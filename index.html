<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S&Iï½œæ¯›å­©æ°´æ™¶éˆæ•¸å¯¦é©—å®¤</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;600;700&family=Noto+Sans+TC:wght@300;400;500&display=swap');

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fdfcf8;
            background-image: radial-gradient(#e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            color: #444;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            padding: 2.5rem;
            border-radius: 16px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.08);
            width: 100%;
            max-width: 650px;
            text-align: center;
            border: 1px solid #f2eadf;
            backdrop-filter: blur(10px);
        }

        /* LOGO */
        .brand-header {
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }
        .brand-logo {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: #2c3e50;
            letter-spacing: 2px;
            margin: 0;
        }
        .brand-subtitle {
            font-size: 0.85rem;
            color: #d4a373;
            margin-top: 8px;
            letter-spacing: 3px;
            text-transform: uppercase;
            font-weight: 500;
        }

        /* æ¨™é¡Œæ¨£å¼ */
        .section-title {
            text-align: left;
            color: #2c3e50;
            font-weight: 600;
            margin: 30px 0 20px 0;
            font-size: 1.15rem;
            display: flex;
            align-items: center;
            font-family: 'Noto Serif TC', serif;
        }
        .section-title::before {
            content: 'âœ¦';
            color: #d4a373;
            margin-right: 10px;
            font-size: 1.2rem;
        }

        /* è¡¨å–®èˆ‡è¼¸å…¥æ¡† */
        .form-group { margin-bottom: 18px; text-align: left; }
        label { display: block; margin-bottom: 8px; font-size: 0.95rem; color: #666; font-weight: 500; }
        input[type="text"], input[type="date"], input[type="file"] {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
            transition: all 0.3s;
            background: #fff;
        }
        input:focus { border-color: #d4a373; outline: none; box-shadow: 0 0 0 3px rgba(212, 163, 115, 0.1); }

        /* å¿ƒç†æ¸¬é©—å¡ç‰‡ */
        .quiz-item {
            background: #fdfbf7;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: left;
            border: 1px solid #f0e6dc;
        }
        .quiz-question { font-weight: 600; margin-bottom: 15px; display: block; color: #5d4037; font-size: 1.05rem; }
        .quiz-options label {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 10px;
            border-radius: 6px;
            font-size: 0.95rem;
            transition: background 0.2s;
        }
        .quiz-options label:hover { background: #efebe4; }
        input[type="radio"] { margin-right: 12px; accent-color: #d4a373; transform: scale(1.1); }

        /* åˆ†ææŒ‰éˆ• */
        .analyze-btn {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            border: none;
            padding: 16px 30px;
            font-size: 16px;
            letter-spacing: 1.5px;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            margin-top: 30px;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(44, 62, 80, 0.2);
            font-family: 'Noto Serif TC', serif;
        }
        .analyze-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(44, 62, 80, 0.3); }
        
        /* çµæœå€ */
        #resultArea {
            display: none;
            margin-top: 60px;
            padding-top: 40px;
            border-top: 1px solid #eee;
            animation: fadeIn 1.5s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .pet-photo-preview {
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 50%;
            border: 5px solid #fff;
            box-shadow: 0 0 0 1px #d4a373, 0 15px 30px rgba(0,0,0,0.1);
            margin: 0 auto 25px;
            display: block;
        }
        
        .result-title {
            color: #2c3e50;
            font-family: 'Noto Serif TC', serif;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        /* å…§å®¹å¡ç‰‡æ¨£å¼ */
        .analysis-card {
            text-align: left;
            margin-top: 30px;
            padding: 25px;
            background: #fff;
            border-radius: 12px;
            border: 1px solid #f0f0f0;
            box-shadow: 0 5px 20px rgba(0,0,0,0.03);
            position: relative;
            overflow: hidden;
        }
        .analysis-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 5px; height: 100%;
            background: #d4a373;
        }
        
        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f5f5f5;
        }
        .card-title {
            font-family: 'Noto Serif TC', serif;
            font-size: 1.2rem;
            color: #2c3e50;
            font-weight: 700;
        }
        .card-tag {
            background: #fdf6e3;
            color: #d35400;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .analysis-text {
            color: #555;
            font-size: 1rem;
            line-height: 1.8;
            white-space: pre-wrap;
            text-align: justify;
        }

        /* æ°´æ™¶å€å¡Š */
        .crystal-box {
            background: #f4f8fb;
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .crystal-icon { font-size: 24px; }
        .crystal-info { font-size: 0.9rem; color: #34495e; }
        .crystal-name { font-weight: bold; color: #2980b9; margin-bottom: 3px; display: block;}

        /* å•†åŸé€£çµæŒ‰éˆ•æ¨£å¼ */
        .shop-cta-box {
            margin-top: 40px;
            padding: 20px;
            background: #fffcf5;
            border-radius: 12px;
            border: 1px dashed #d4a373;
        }
        .shop-btn {
            display: inline-block;
            background-color: #d4a373;
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(212, 163, 115, 0.4);
            transition: all 0.3s;
            margin-top: 10px;
        }
        .shop-btn:hover {
            background-color: #c08b5c;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(212, 163, 115, 0.5);
        }

        /* ç‰ˆæ¬Šé å°¾ */
        .footer { margin-top: 30px; font-size: 0.8rem; color: #aaa; letter-spacing: 1px; }

    </style>
</head>
<body>

<div class="container">
    <div class="brand-header">
        <h1 class="brand-logo">S&Iï½œæ¯›å­©ä¿å¥å®¤ x æ—¥å­èˆ‡ä½ </h1>
        <div class="brand-subtitle">Crystal Energy & Soul Analysis</div>
    </div>
    
    <div class="section-title">Step 1. å»ºç«‹æ¯›å­©æª”æ¡ˆ</div>
    <div class="form-group">
        <label>æ¯›å­©çš„åå­—</label>
        <input type="text" id="petName" placeholder="è¼¸å…¥å¯¶è²çš„åå­—...">
    </div>
    <div class="form-group">
        <label>å‡ºç”Ÿæ—¥æœŸ (æˆ–ç›¸é‡ç´€å¿µæ—¥)</label>
        <input type="date" id="birthDate">
    </div>
    <div class="form-group">
        <label>ä¸Šå‚³ä¸€å¼µæœ€å…·éˆæ€§çš„ç…§ç‰‡</label>
        <input type="file" id="petPhoto" accept="image/*">
    </div>

    <div class="section-title">Step 2. é—œæ–¼ç‰ çš„æ—¥å¸¸é»æ»´ (å¿ƒç†æ¸¬é©—)</div>
    
    <div class="quiz-item">
        <span class="quiz-question">Q1. ç•¶å®¶è£¡æœ‰é™Œç”Ÿè¨ªå®¢æŒ‰é–€éˆ´æ™‚ï¼Œç‰ çš„ç¬¬ä¸€åæ‡‰ï¼Ÿ</span>
        <div class="quiz-options">
            <label><input type="radio" name="q1" value="10"> è¡åˆ°é–€å£å¤§è²å®£å‘Šä¸»æ¬Š (è­¦è¦º)</label>
            <label><input type="radio" name="q1" value="20"> æ–è‘—å°¾å·´æœŸå¾…æ–°æœ‹å‹ (ç†±æƒ…)</label>
            <label><input type="radio" name="q1" value="5"> æ·¡å®šè§€å¯Ÿï¼Œæˆ–èº²å›å®‰å…¨è§’è½ (è¬¹æ…)</label>
        </div>
    </div>

    <div class="quiz-item">
        <span class="quiz-question">Q2. æ”¾é£¯æ™‚é–“åˆ°äº†ï¼Œç‰ çš„ç”¨é¤é¢¨æ ¼æ˜¯ï¼Ÿ</span>
        <div class="quiz-options">
            <label><input type="radio" name="q2" value="20"> å…‰ç›¤è¡Œå‹•æ´¾ï¼å¹¾ç§’é˜å°±åƒå…‰ (åƒè²¨)</label>
            <label><input type="radio" name="q2" value="10"> å¿ƒæƒ…å¥½æ‰åƒï¼Œéœ€è¦äººé™ªæˆ–åŠ èœ (æŒ‘å‰”)</label>
            <label><input type="radio" name="q2" value="5"> å„ªé›…é€²é£Ÿï¼Œç´°åš¼æ…¢åš¥å¾ˆæœ‰è¦çŸ© (å„ªé›…)</label>
        </div>
    </div>

    <div class="quiz-item">
        <span class="quiz-question">Q3. å¹³å¸¸åœ¨å®¶çš„ä¼‘é–’æ´»å‹•ä¸»è¦æ˜¯ï¼Ÿ</span>
        <div class="quiz-options">
            <label><input type="radio" name="q3" value="20"> å……æ»¿é›»é‡ï¼è·‘é…·ã€ç©ç©å…·åœä¸ä¸‹ä¾† (æ´»æ½‘)</label>
            <label><input type="radio" name="q3" value="5"> å°ˆæ¥­é™ªç¡å“¡ï¼Œå“ªè£¡èˆ’æœå“ªè£¡èºº (æ…µæ‡¶)</label>
            <label><input type="radio" name="q3" value="10"> ä½ çš„è·Ÿå±èŸ²ï¼Œä½ åœ¨å“ªç‰ å°±åœ¨å“ª (é»äºº)</label>
        </div>
    </div>

    <button class="analyze-btn" onclick="analyzeAll()">é–‹å§‹è§£è®€éˆé­‚æ°´æ™¶å¯†ç¢¼</button>

    <div id="resultArea">
        <img id="previewImg" class="pet-photo-preview" src="" alt="å¯µç‰©ç…§ç‰‡">
        <h2 class="result-title">
            <span id="displayName"></span> çš„éˆé­‚åˆ†ææ›¸
        </h2>
        
        <div class="analysis-card">
            <div class="card-header">
                <span class="card-title">ğŸ“œ éˆæ•¸å‘½æ ¼ï¼šéˆé­‚çš„æœ¬è³ª</span>
                <span class="card-tag">ç”Ÿå‘½éˆæ•¸ <span id="resNum">?</span></span>
            </div>
            <div id="descNumerology" class="analysis-text">...</div>
            
            <div class="crystal-box">
                <div class="crystal-icon">ğŸ’</div>
                <div class="crystal-info">
                    <span class="crystal-name">å°ˆå±¬èƒ½é‡æ°´æ™¶ï¼š<span id="crystalName"></span></span>
                    <span id="crystalDesc"></span>
                </div>
            </div>
        </div>

        <div class="analysis-card" style="border-left: 5px solid #8e44ad;">
            <div class="card-header">
                <span class="card-title">ğŸ”® æ€§æ ¼å´å¯«ï¼šå¡”ç¾…æŒ‡å¼•</span>
                <span class="card-tag" style="background:#f3e5f5; color:#8e44ad;" id="tarotName">å¡”ç¾…ç‰Œ</span>
            </div>
            <div id="descPersonality" class="analysis-text">...</div>
        </div>
        
        <div class="shop-cta-box">
            <p style="color: #666; margin: 0 0 10px 0; font-size: 0.95rem;">æƒ³çµ¦ <span id="petNameRepeat" style="font-weight:bold; color:#d4a373;"></span> æœ€å¥½çš„ç…§é¡§å—ï¼Ÿ</p>
            <a href="https://www.shimoinu.shop/PetHealth" target="_blank" class="shop-btn">
                ğŸŒ¿ S&Iï½œæ¯›å­©è‰æœ¬ä¿å¥ç ”ç©¶å®¤
            </a>
        </div>

        <div class="footer">
            S&Iï½œæ¯›å­©ä¿å¥å®¤ x æ—¥å­èˆ‡ä½  Â© All Rights Reserved.
        </div>
    </div>
</div>

<script>
    // 1. ç”Ÿå‘½éˆæ•¸è³‡æ–™åº« (å«æ°´æ™¶æ¨è–¦)
    const numerologyData = {
        1: {
            text: "ã€å¤©ç”Ÿè‡ªå¸¶å…‰èŠ’çš„é ˜è¢–éˆé­‚ã€‘\nç‰ æ“æœ‰å¼·å¤§çš„è‡ªæˆ‘æ„è­˜èˆ‡ç¨ç«‹æ€§ï¼Œå°±åƒä¸€ä½å¤©ç”Ÿçš„å°åœ‹ç‹ã€‚ç‰ ä¸å–œæ­¡è¢«éåº¦å¼·è¿«ï¼Œä½†å°èªå®šçš„äººå±•ç¾çµ•å°çš„å¿ èª ã€‚ç‰ çš„æ„›æ˜¯éœ¸æ°£çš„â€”â€”ã€Œä½ æ˜¯æˆ‘çš„ï¼Œèª°éƒ½ä¸èƒ½æ¬ºè² ä½ ã€ã€‚",
            crystals: "å¤ªé™½çŸ³ & ç™½æ°´æ™¶",
            crystalDesc: "ã€Œå¤ªé™½çŸ³ã€èƒ½å¢å¼·ç‰ çš„è‡ªä¿¡èˆ‡æ´»åŠ›ï¼Œä¿è­·æ°£å ´ï¼›ã€Œç™½æ°´æ™¶ã€å‰‡èƒ½å¹«åŠ©ç‰ åœ¨æ¿€å‹•æ™‚ç©©å®šæ€ç·’ï¼Œå¹³è¡¡éå‰©çš„ç²¾åŠ›ã€‚"
        },
        2: {
            text: "ã€èˆ‡ä½ éˆé­‚å…±æŒ¯çš„è²¼å¿ƒä¼´ä¾¶ã€‘\nçº–ç´°æ•æ„Ÿçš„ç‰ ï¼Œå½·å½¿èƒ½è®€æ‡‚ä½ å…§å¿ƒæœ€ç´°å¾®çš„æƒ…ç·’ã€‚ç‰ ä¸å–œæ­¡çˆ­é¬¥ï¼Œé€™è¼©å­æœ€å¤§çš„é¡˜æœ›ï¼Œå°±æ˜¯å®‰éœåœ°ä¾ååœ¨ä½ èº«æ—ã€‚ç•¶ä½ é›£éæ™‚ï¼Œç‰ ç¸½æ˜¯ç¬¬ä¸€å€‹ç™¼ç¾ä¸¦çµ¦äºˆå®‰æ…°çš„å¤©ä½¿ã€‚",
            crystals: "ç²‰æ™¶ & æœˆå…‰çŸ³",
            crystalDesc: "ã€Œç²‰æ™¶ã€èƒ½æ”¾å¤§ç‰ æº«æŸ”çš„æ„›ï¼Œå¢åŠ å®‰å…¨æ„Ÿï¼›ã€Œæœˆå…‰çŸ³ã€å‰‡èƒ½èˆ’ç·©ç‰ åˆ†é›¢ç„¦æ…®çš„æƒ…ç·’ï¼Œè®“ç‰ ç¨è™•æ™‚ä¹Ÿèƒ½æ„Ÿåˆ°å¹³éœã€‚"
        },
        3: {
            text: "ã€æ•£æ’­æ­¡æ¨‚çš„ç´”çœŸå…‰ä¹‹å­ã€‘\nç‰ çš„éˆé­‚è£¡ä½è‘—ä¸€å€‹æ°¸é é•·ä¸å¤§çš„å­©å­ï¼Œå°ä¸–ç•Œå……æ»¿å¥½å¥‡ã€‚ç‰ æ˜¯å¤©ç”Ÿçš„ç¤¾äº¤é«˜æ‰‹ï¼Œé›–ç„¶æœ‰æ™‚å› ç‚ºå¤ªèˆˆå¥®è€Œé¡¯å¾—ä¸å—æ§ï¼Œä½†é‚£ä»½ç´”ç²¹çš„å¿«æ¨‚æ˜¯å®¶è£¡æœ€å¥½çš„æŠ—æ†‚é¬±åŠ‘ã€‚",
            crystals: "é»ƒæ°´æ™¶ & å¤©æ²³çŸ³",
            crystalDesc: "ã€Œé»ƒæ°´æ™¶ã€å°æ‡‰å¤ªé™½è¼ªï¼Œå®ˆè­·ç‰ çš„å¿«æ¨‚èˆ‡æ¶ˆåŒ–ç³»çµ±ï¼›ã€Œå¤©æ²³çŸ³ã€å‰‡èƒ½å¹«åŠ©ç‰ è¡¨é”æƒ…ç·’ï¼Œæ¸›å°‘å› ç‚ºéåº¦èˆˆå¥®è€Œé€ æˆçš„ç„¦èºã€‚"
        },
        4: {
            text: "ã€å®ˆè­·å®¶åœ’çš„ç©©é‡é å±±ã€‘\nã€Œç§©åºã€èˆ‡ã€Œå®‰ç©©ã€æ˜¯ç‰ çš„é—œéµå­—ã€‚ç‰ ä¸å–œæ­¡è®Šå‹•ï¼Œè¦å¾‹çš„ç”Ÿæ´»è®“ç‰ å®‰å¿ƒã€‚ç‰ æˆ–è¨±ä¸æ˜¯æœ€ç†±æƒ…æ’²äººçš„ï¼Œä½†çµ•å°æ˜¯æœ€è®“ä½ æ”¾å¿ƒã€é»˜é»˜å®ˆè­·å®¶åœ’çš„å¿ èª è¡›å£«ã€‚",
            crystals: "é»‘æ›œçŸ³ & èŒ¶æ™¶",
            crystalDesc: "ã€Œé»‘æ›œçŸ³ã€æ“æœ‰å¼·å¤§çš„è½åœ°èƒ½é‡ï¼Œèƒ½æ’é™¤è² èƒ½é‡ä¸¦ä¿è­·ç‰ ï¼›ã€ŒèŒ¶æ™¶ã€å‰‡èƒ½å¢å¼·ç‰ çš„å®‰å…¨æ„Ÿï¼Œè®“ç©©é‡çš„ç‰ æ›´åŠ å¥åº·é•·å£½ã€‚"
        },
        5: {
            text: "ã€è¿½æ±‚è‡ªç”±çš„é¢¨ä¹‹å­ã€‘\nç‰ çš„éˆé­‚è‡ªç”±å¥”æ”¾ï¼Œè¨å­æŸç¸›ï¼Œç†±æ„›æ¢ç´¢æœªçŸ¥ã€‚ç‰ éå¸¸è°æ˜ï¼Œç¸½èƒ½æƒ³å‡ºå„ç¨®é¬¼é»å­ã€‚ä¸è¦è©¦åœ–å®Œå…¨æŒæ§ç‰ ï¼Œçµ¦äºˆä¿¡ä»»ï¼Œç‰ æœƒæ˜¯ä½ ç”Ÿæ´»æœ€æœ‰è¶£çš„å†’éšªå¤¥ä¼´ã€‚",
            crystals: "æµ·è—å¯¶ & è¢çŸ³",
            crystalDesc: "ã€Œæµ·è—å¯¶ã€è±¡å¾µè‡ªç”±èˆ‡æºé€šï¼Œä¿è­·ç‰ åœ¨æ¢ç´¢æ™‚çš„å¹³å®‰ï¼›ã€Œè¢çŸ³ã€å‰‡è¢«ç¨±ç‚ºå¤©æ‰ä¹‹çŸ³ï¼Œèƒ½å¹«åŠ©è°æ˜çš„ç‰ é›†ä¸­æ³¨æ„åŠ›ï¼Œæ¸›å°‘æ—è›‹ã€‚"
        },
        6: {
            text: "ã€æº«æš–ç™‚ç™’çš„æ„›ä¹‹åŒ–èº«ã€‘\né€™éš»æ¯›å­©å¤©ç”Ÿå…·å‚™ç…§é¡§è€…çš„ç‰¹è³ªï¼Œå°å¼±å°ç‰¹åˆ¥æœ‰è€å¿ƒã€‚ç‰ éå¸¸é¡§å®¶ï¼Œæ˜¯å®¶è£¡çš„æƒ…æ„Ÿé»è‘—åŠ‘ã€‚ç‰ å°ä½ çš„æ„›æ˜¯å…¨é¢æ€§çš„åŒ…å®¹ï¼Œæºè‡ªéˆé­‚æ·±è™•çš„æº«æŸ”ã€‚",
            crystals: "è±éŒ³ç¤¦ & ç´«æ°´æ™¶",
            crystalDesc: "ã€Œè±éŒ³ç¤¦ã€èƒ½ä¿®å¾©æƒ…æ„Ÿå‰µå‚·ï¼Œè®“æ•æ„Ÿçš„ç‰ æ„Ÿå—åˆ°è¢«æ„›ï¼›ã€Œç´«æ°´æ™¶ã€å‰‡èƒ½æå‡éˆæ€§ï¼Œå¹«åŠ©ç‰ åœ¨ç…§é¡§å®¶äººæ™‚ï¼Œä¹Ÿèƒ½æ”¾é¬†è‡ªå·±çš„ç¥ç¶“ã€‚"
        },
        7: {
            text: "ã€å„ªé›…ç¥ç§˜çš„å“²å­¸å®¶ã€‘\nç‰ æ•£ç™¼è‘—ç¨ç‰¹æ°£è³ªï¼Œæ¯”èµ·ç†±é¬§èšæœƒï¼Œæ›´äº«å—ç¨è™•è§€å¯Ÿä¸–ç•Œã€‚ç‰ èˆ‡ä½ ä¹‹é–“æœ‰ä¸€ç¨®ä¸éœ€è¦è¨€èªçš„å¿ƒé›»æ„Ÿæ‡‰ï¼Œé‚£æ˜¯ä¸€ç¨®é«˜å±¤æ¬¡çš„éˆé­‚é»˜å¥‘ã€‚",
            crystals: "é’é‡‘çŸ³ & æ‹‰é•·çŸ³",
            crystalDesc: "ã€Œé’é‡‘çŸ³ã€èƒ½é–‹å•Ÿæ™ºæ…§èˆ‡æ´å¯ŸåŠ›ï¼Œé©åˆç‰ å†·éœçš„æ€§æ ¼ï¼›ã€Œæ‹‰é•·çŸ³ã€å‰‡èƒ½ä¿è­·ç‰ æ•æ„Ÿçš„æ°£å ´ï¼Œé¿å…å¸æ”¶éå¤šå¤–ç•Œé›œäº‚çš„èƒ½é‡ã€‚"
        },
        8: {
            text: "ã€æ°£å ´å¼·å¤§çš„å¯Œè²´èŒå¯µã€‘\nç‰ å¤©ç”Ÿæ°£å ´å¼·å¤§ï¼Œç²¾åŠ›æ—ºç››ï¼Œå°å–œæ­¡çš„æ±è¥¿ï¼ˆç¾é£Ÿã€ç©å…·ï¼‰æœ‰æ¥µé«˜çš„é‘‘è³åŠ›ã€‚ç‰ å°±åƒå®¶è£¡çš„å°å°å®ˆè­·ç¥ï¼Œèƒ½ç‚ºå®¶è£¡å¸¶ä¾†æ»¿æ»¿çš„æ´»åŠ›èˆ‡å¯Œè¶³çš„èƒ½é‡ã€‚",
            crystals: "é»ƒéµç¤¦ & çŸ³æ¦´çŸ³",
            crystalDesc: "ã€Œé»ƒéµç¤¦ã€è±¡å¾µå¯Œè¶³èˆ‡åŠ›é‡ï¼Œèˆ‡ç‰ çš„éœ¸æ°£ç›¸å¾—ç›Šå½°ï¼›ã€ŒçŸ³æ¦´çŸ³ã€å‰‡èƒ½ä¿ƒé€²è¡€æ¶²å¾ªç’°ï¼Œç¶­æŒç‰ æ—ºç››çš„ç”Ÿå‘½åŠ›èˆ‡è¡Œå‹•åŠ›ã€‚"
        },
        9: {
            text: "ã€åŒ…å®¹è¬ç‰©çš„æ…ˆæ„›è€éˆé­‚ã€‘\nç‰ çš„éˆé­‚ç¶“æ­·è¨±å¤šè¼ªè¿´ï¼Œè¡¨ç¾å‡ºè¶…ä¹å¹´é½¡çš„æ·¡å®šã€‚ç‰ å¹¾ä¹æ²’æœ‰è„¾æ°£ï¼Œå°ä»»ä½•äººéƒ½æŠ±æŒå–„æ„ã€‚é€™æ˜¯ä¸€éš»çœŸæ­£æ„ç¾©ä¸Šçš„ã€Œå¤©ä½¿ã€ï¼Œæ•™å°ä½ ç„¡æ¢ä»¶çš„æ„›ã€‚",
            crystals: "ç™½å¹½éˆ & è˜‡æ‰“çŸ³",
            crystalDesc: "ã€Œç™½å¹½éˆã€èƒ½æ·¨åŒ–ç£å ´ï¼Œä¿è­·é€™ç´”æ·¨çš„è€éˆé­‚ï¼›ã€Œè˜‡æ‰“çŸ³ã€èƒ½å¸¶ä¾†æ·±å±¤çš„å¹³éœï¼Œå®ˆè­·ç‰ ä¸è¢«ä¸–ä¿—çš„ç´›æ“¾å½±éŸ¿ã€‚"
        }
    };

    // 2. å¿ƒç†æ¸¬é©— + å¡”ç¾…ç‰Œå°æ‡‰
    function getQuizResult(score) {
        if (score >= 55) {
            return { 
                tarot: "æˆ°è»Šç‰Œ (The Chariot)", 
                desc: "é€™å¼µç‰Œè±¡å¾µè‘—æ„å¿—åŠ›èˆ‡è¡å‹ã€‚ä½ çš„æ¯›å­©æ“æœ‰æºæºä¸çµ•çš„èƒ½é‡ï¼Œå°±åƒæˆ°è»Šä¸€æ¨£å‹‡å¾€ç›´å‰ã€‚ç‰ æ€§æ ¼ç›´ç‡ã€ç†±æƒ…ï¼Œæœ‰æ™‚ç”šè‡³æœ‰é»é­¯è½ï¼Œä½†é‚£éƒ½æ˜¯å› ç‚ºç‰ å¤ªæ„›é€™å€‹ä¸–ç•Œäº†ã€‚å°ç‰ ä¾†èªªï¼Œæ¯ä¸€å¤©éƒ½æ˜¯ä¸€å ´å…¨æ–°çš„å†’éšªï¼Œç‰ éœ€è¦å¤§é‡çš„æ´»å‹•èˆ‡è®šç¾ä¾†æ»¿è¶³ç‰ çš„è‹±é›„ä¸»ç¾©ã€‚" 
            };
        }
        if (score >= 45) {
            return { 
                tarot: "çš‡åç‰Œ (The Empress)", 
                desc: "é€™å¼µç‰Œè±¡å¾µè‘—è±ç››ã€æ„Ÿå®˜äº«å—èˆ‡æ„›ã€‚ä½ çš„æ¯›å­©æ˜¯å€‹æ¨™æº–çš„ã€Œäº«æ¨‚ä¸»ç¾©è€…ã€ï¼Œç‰ ç†±æ„›ç¾é£Ÿã€å–œæ­¡è¢«äººæ’«æ‘¸ï¼Œæ‡‚å¾—å¦‚ä½•è®“è‡ªå·±éå¾—èˆ’æœã€‚ç‰ åœ¨ç¤¾äº¤å ´åˆé€šå¸¸æ¸¸åˆƒæœ‰é¤˜ï¼Œå¤§å®¶éƒ½å–œæ­¡ç‰ ã€‚ç…§é¡§ç‰ çš„é‡é»åœ¨æ–¼æ§åˆ¶é«”é‡ï¼ˆå› ç‚ºå¤ªæ„›åƒäº†ï¼‰ä»¥åŠçµ¦äºˆå¤§é‡çš„è‚¢é«”æ¥è§¸ã€‚" 
            };
        }
        if (score >= 35) {
            return { 
                tarot: "æ„šè€…ç‰Œ (The Fool)", 
                desc: "é€™å¼µç‰Œè±¡å¾µè‘—å¤©çœŸèˆ‡ç„¡é™çš„å¯èƒ½æ€§ã€‚ç‰ æ˜¯ä¸€éš»æ¨‚å¤©æ´¾ï¼Œæœ‰é»å‚»æ°£ï¼Œå¸¸å¸¸åšå‡ºè®“ä½ å“­ç¬‘ä¸å¾—çš„èˆ‰å‹•ã€‚ç‰ ä¸åƒå…¶ä»–æ¯›å­©é‚£éº¼ä¸–æ•…ï¼Œä¿ç•™äº†æœ€åŸå§‹çš„ç´”çœŸã€‚æœ‰æ™‚å€™ç‰ æœƒé¡¯å¾—æœ‰é»ç¬¨æ‹™æˆ–è„«ç·šï¼Œä½†é‚£æ­£æ˜¯ç‰ æœ€è¿·äººçš„åœ°æ–¹ï¼Œè«‹å®ˆè­·ç‰ é€™ä»½é›£å¾—çš„èµ¤å­ä¹‹å¿ƒã€‚" 
            };
        }
        if (score >= 25) {
            return { 
                tarot: "çš‡å¸ç‰Œ (The Emperor)", 
                desc: "é€™å¼µç‰Œè±¡å¾µè‘—æ¬Šå¨èˆ‡è¦å‰‡ã€‚ç‰ æ˜¯ä¸€éš»éå¸¸æœ‰åŸå‰‡çš„æ¯›å­©ï¼ˆä¹Ÿå¯ä»¥èªªæ˜¯å‚²å¬Œï¼‰ã€‚ç‰ æœ‰è‡ªå·±çš„åœ°ç›¤æ„è­˜ï¼Œä¸å–œæ­¡è¢«éš¨æ„æ‰“æ“¾ã€‚ç‰ æ„›ä½ çš„æ–¹å¼ä¸æ˜¯é»è¸¢è¸¢ï¼Œè€Œæ˜¯åƒå€‹å®ˆè¡›ä¸€æ¨£åœ¨æ—é‚Šçœ‹è‘—ä½ ã€‚è´å¾—ç‰ çš„å°Šé‡æ¯”è´å¾—ç‰ çš„æ’’å¬Œæ›´é‡è¦ï¼Œä¸€æ—¦ç‰ èªå¯ä½ ï¼Œç‰ å°±æ˜¯æœ€å¿ èª çš„é¨å£«ã€‚" 
            };
        }
        return { 
            tarot: "éš±å£«ç‰Œ (The Hermit)", 
            desc: "é€™å¼µç‰Œè±¡å¾µè‘—å…§çœèˆ‡æ™ºæ…§ã€‚ä½ çš„æ¯›å­©æ“æœ‰ä¸€å€‹è€éˆé­‚ï¼Œæ¯”èµ·ç˜‹ç‹‚ç©è€ï¼Œç‰ æ›´å–œæ­¡å®‰éœåœ°è§€å¯Ÿã€‚ç‰ å¯èƒ½æ¯”è¼ƒæ…¢ç†Ÿï¼Œå°é™Œç”Ÿç’°å¢ƒè¬¹æ…ï¼Œä½†å°ä¸»äººçš„ä¾è³´æ¥µæ·±ã€‚ç‰ æ˜¯ä½ æœ€å¥½çš„å‚¾è½è€…ï¼Œä½ å€‘ä¹‹é–“çš„é€£çµæ˜¯ç²¾ç¥å±¤é¢çš„ã€‚ä¸è¦å¼·è¿«ç‰ ç¤¾äº¤ï¼Œçµ¦ç‰ ä¸€å€‹å®‰éœçš„è§’è½ï¼Œç‰ æœƒè¦ºå¾—æœ€è‡ªåœ¨ã€‚" 
        };
    }

    function analyzeAll() {
        const name = document.getElementById('petName').value;
        const dateStr = document.getElementById('birthDate').value;
        const photoInput = document.getElementById('petPhoto');
        
        if (!name || !dateStr) { alert("è«‹å¡«å¯«åå­—å’Œæ—¥æœŸï¼Œè®“æˆ‘å€‘èƒ½é€£çµæ°´æ™¶èƒ½é‡ï¼"); return; }
        
        const q1 = document.querySelector('input[name="q1"]:checked');
        const q2 = document.querySelector('input[name="q2"]:checked');
        const q3 = document.querySelector('input[name="q3"]:checked');
        if (!q1 || !q2 || !q3) { alert("è«‹å®Œæˆæ‰€æœ‰å¿ƒç†æ¸¬é©—é¡Œç›®ï¼Œæ‰èƒ½æŠ½å‡ºå¡”ç¾…ç‰Œå–”ï¼"); return; }

        if (photoInput.files && photoInput.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) { document.getElementById('previewImg').src = e.target.result; }
            reader.readAsDataURL(photoInput.files[0]);
        } else {
            document.getElementById('previewImg').src = "https://via.placeholder.com/180?text=Pet";
        }

        let numbers = dateStr.replace(/-/g, ''); 
        let sum = 0;
        for (let char of numbers) sum += parseInt(char);
        while (sum > 9) {
            let tempSum = 0;
            let sumStr = sum.toString();
            for (let char of sumStr) tempSum += parseInt(char);
            sum = tempSum;
        }

        let quizScore = parseInt(q1.value) + parseInt(q2.value) + parseInt(q3.value);
        let quizResult = getQuizResult(quizScore);

        // å¡«å…¥è³‡æ–™
        document.getElementById('displayName').textContent = name;
        document.getElementById('petNameRepeat').textContent = name; // æ›´æ–°å°æµæ–‡æ¡ˆä¸­çš„åå­—
        
        // 1. éˆæ•¸èˆ‡æ°´æ™¶
        document.getElementById('resNum').textContent = sum;
        document.getElementById('descNumerology').innerText = numerologyData[sum].text;
        document.getElementById('crystalName').innerText = numerologyData[sum].crystals;
        document.getElementById('crystalDesc').innerText = numerologyData[sum].crystalDesc;

        // 2. å¡”ç¾…èˆ‡æ€§æ ¼
        document.getElementById('tarotName').innerText = quizResult.tarot;
        document.getElementById('descPersonality').innerText = quizResult.desc;

        // é¡¯ç¤º
        const resultArea = document.getElementById('resultArea');
        resultArea.style.display = 'block';
        resultArea.scrollIntoView({behavior: "smooth"});
    }
</script>

</body>
</html>
